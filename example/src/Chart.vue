<template>
<div>
   <div :id="id"></div>
</div>
</template>

<script>
export default {
   props: {
      id: {
         required: true,
      },
      locale: {
         required: true,
      },
      theme: {
         required: true,
      }
   },
   watch: {
      locale(value) {         
         this.chart.setLocale(value);
      },
   },
   created() {

   },
   mounted() {
      // Данные
      var json = {"columns":[["x",1542412800000,1542499200000,1542585600000,1542672000000,1542758400000,1542844800000,1542931200000,1543017600000,1543104000000,1543190400000,1543276800000,1543363200000,1543449600000,1543536000000,1543622400000,1543708800000,1543795200000,1543881600000,1543968000000,1544054400000,1544140800000,1544227200000,1544313600000,1544400000000,1544486400000,1544572800000,1544659200000,1544745600000,1544832000000,1544918400000,1545004800000,1545091200000,1545177600000,1545264000000,1545350400000,1545436800000,1545523200000,1545609600000,1545696000000,1545782400000,1545868800000,1545955200000,1546041600000,1546128000000,1546214400000,1546300800000,1546387200000,1546473600000,1546560000000,1546646400000,1546732800000,1546819200000,1546905600000,1546992000000,1547078400000,1547164800000,1547251200000,1547337600000,1547424000000,1547510400000,1547596800000,1547683200000,1547769600000,1547856000000,1547942400000,1548028800000,1548115200000,1548201600000,1548288000000,1548374400000,1548460800000,1548547200000,1548633600000,1548720000000,1548806400000,1548892800000,1548979200000,1549065600000,1549152000000,1549238400000,1549324800000,1549411200000,1549497600000,1549584000000,1549670400000,1549756800000,1549843200000,1549929600000,1550016000000,1550102400000,1550188800000,1550275200000,1550361600000,1550448000000,1550534400000,1550620800000,1550707200000,1550793600000,1550880000000,1550966400000,1551052800000,1551139200000,1551225600000,1551312000000,1551398400000,1551484800000,1551571200000,1551657600000,1551744000000,1551830400000,1551916800000,1552003200000],
      ["y0",162,160,166,169,522,135,119,165,136,162,170,169,160,160,151,149,454,170,148,169,157,121,133,155,192,162,147,150,156,170,163,160,155,165,176,133,145,164,154,181,180,123,106,137,160,170,146,168,146,151,133,157,175,170,195,170,150,168,163,166,153,138,152,109,121,153,136,171,196,155,158,129,131,155,152,144,126,191,173,187,255,278,219,170,129,125,126,184,165,153,154,157,171,164,175,172,139,147,152,73,89,156,186,105,188,145,133,156,142,124,114,164],
      ["y1",67,82,80,90,233,83,118,141,145,69,157,161,170,147,131,134,140,155,127,157,148,132,140,149,54,149,134,151,151,151,166,151,194,160,164,128,144,196,149,173,130,188,163,142,156,167,152,167,135,161,140,155,163,161,105,159,151,176,163,157,147,156,151,98,103,162,154,104,148,141,141,137,130,128,126,137,165,86,70,81,154,74,170,110,14,179,185,162,136,146,168,143,166,150,128,166,139,123,163,174,183,166,140,160,129,136,127,154,189,150,173,152]],"types":{"y0":"line","y1":"line","x":"x"},"names":{"y0":"#0","y1":"#1"},"colors":{"y0":"#3DC23F","y1":"#F34C44"}};

      var max = 15;
      for (let i in json.columns) {
         json.columns[i].splice(max, json.columns[i].length-1-max)
      }

      this.chart = new LineChart(this.id, 670, 460, {locale: this.locale});
      this.chart.setData(json);
   },
   methods: {
      setTheme(value) {         
         this.chart.setTheme(value);
      },
   }
}
</script>

<style>

</style>
